<UserControl x:Class="InterfaceGraphique.Controls.WPF.Editor.EditorServerBrowser"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:wpf="clr-namespace:InterfaceGraphique.Controls.WPF"
             xmlns:mockObject="clr-namespace:InterfaceGraphique.Entities.MockObject"
             xmlns:friends="clr-namespace:InterfaceGraphique.Controls.WPF.Friends"
             xmlns:fa="http://schemas.fontawesome.io/icons/"
             mc:Ignorable="d" 
             
             xmlns:convert="clr-namespace:InterfaceGraphique.Controls.WPF.Converters"

             d:DesignHeight="400" d:DesignWidth="600">
    <UserControl.Resources>
        <ResourceDictionary>


            <ResourceDictionary.MergedDictionaries >
                <ResourceDictionary Source="/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Light.xaml" />
                <ResourceDictionary Source="/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Defaults.xaml" />
                <ResourceDictionary Source="/MaterialDesignColors;component/Themes/Recommended/Primary/MaterialDesignColor.Blue.xaml" />
                <ResourceDictionary Source="/MaterialDesignColors;component/Themes/Recommended/Accent/MaterialDesignColor.Green.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <convert:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"></convert:BooleanToVisibilityConverter>

   

                <wpf:ViewModelLocator x:Key="VMLocator" d:IsDataSource="True" />
            <!--<x:Array   x:Key="SampleServerList" x:Name="OnlineEditedMapInfos" Type="model:OnlineEditedMapInfo"
                     xmlns:sys="clr-namespace:System;assembly=mscorlib">
                <model:OnlineEditedMapInfo MapName="MapName" NumberOfPlayer="123"/>
                <model:OnlineEditedMapInfo MapName="MapName2" NumberOfPlayer="123"/>
            </x:Array>-->

            <mockObject:MapEntityMock
                x:Key="DesignViewModel"/>
        </ResourceDictionary>

    </UserControl.Resources>
    <Grid Background="#FF373A3E" DataContext="{Binding Source={StaticResource VMLocator}, Path=EditorViewModel}" >
        <Grid.RowDefinitions>
            <RowDefinition Height="359*"/>
            <RowDefinition Height="41*"/>
        </Grid.RowDefinitions>
        <TextBlock HorizontalAlignment="Center" Margin="144,0" TextWrapping="Wrap" VerticalAlignment="Top" Height="46" FontWeight="Bold" FontSize="32" Foreground="White" Text="Rejoindre une carte :" Width="312"/>
        <Grid Margin="0,0,0,40" Grid.RowSpan="2">
            <Grid Margin="5,57,5,272">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <TextBlock HorizontalAlignment="Center" Grid.Column="0" Text="Icône" Foreground="#DDFFFFFF" FontSize="24"/>
                <TextBlock HorizontalAlignment="Center" Grid.Column="1" Text="Privacité" Foreground="#DDFFFFFF" FontSize="24"/>
                <TextBlock HorizontalAlignment="Center" Grid.Column="2" Text="Nom" Foreground="#DDFFFFFF" Margin="0,0,7,0" FontSize="24" />
                <TextBlock HorizontalAlignment="Center" Grid.Column="3" Text="Nombre de joueurs" Foreground="#DDFFFFFF" FontSize="24" />
                <TextBlock HorizontalAlignment="Center" Grid.Column="4" Text="Créateur" Foreground="#DDFFFFFF" FontSize="24" />

            </Grid>
            <ListBox ItemsSource="{Binding OnlineEditedMapInfos}" 
                 Margin="0,78,0,0" Foreground="#DD000000" d:DataContext="{Binding Source={StaticResource DesignViewModel}}" SelectedItem="{Binding SelectedMap}" >
                <ListBox.ItemContainerStyle>
                    <Style TargetType="{x:Type ListBoxItem}">
                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                    </Style>
                </ListBox.ItemContainerStyle>
                <ListBox.ItemTemplate >

                    <DataTemplate>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Image MaxWidth="128" MaxHeight="128" Grid.Column="0" Source="{Binding Icon, Converter={convert:Base64ImageConverter}}" Cursor="Hand"/>
                            <fa:FontAwesome HorizontalAlignment="Center"  VerticalAlignment="Center" Grid.Column="1" Icon="Lock"  fa:Awesome.Content="Lock" Foreground="#DD3EFF34"  FontSize="48"  Visibility="{Binding Private, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=True}" />
                            <fa:FontAwesome HorizontalAlignment="Center"  VerticalAlignment="Center" Grid.Column="1" Icon="Unlock" fa:Awesome.Content="Unlock" Foreground="#DDF31010"  FontSize="48"  Visibility="{Binding Private, Converter={StaticResource BooleanToVisibilityConverter}}" />
                            <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="2" Text="{Binding MapName}" Foreground="#DDFFFFFF" FontSize="24" />
                            <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center"  Grid.Column="3" Text="{Binding CurrentNumberOfPlayer, StringFormat= ' {0}/4'}" Foreground="#DDFFFFFF" FontSize="24"  />
                            <TextBlock HorizontalAlignment="Center"  VerticalAlignment="Center"  Grid.Column="4" Text="{Binding Creator}" Foreground="#DDFFFFFF" FontSize="24" />
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Grid>
        <Button Command="{Binding JoinEditionCommand}" Content="Participer à l'édition" HorizontalAlignment="Center" Margin="219,6,217,0" VerticalAlignment="Top" Width="164" Height="30" Grid.Row="1"/>
    </Grid>
</UserControl>
